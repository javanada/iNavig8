(this.webpackJsonpiNavig8=this.webpackJsonpiNavig8||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"api":{"invokeUrl":"https://6ifyh4p4z2.execute-api.us-west-2.amazonaws.com/dev","auth-id":"t1o352i3j3","no-auth-id":"6ifyh4p4z2","headers":{"Content-Type":"application/json","x-api-key":"Il5Hx547OB3VWglNlnYM35XJL4sv1ok57bJakZav","Authorization":"dummy"}},"cognito":{"REGION":"us-west-2","USER_POOL_ID":"us-west-2_x1nV7VStG","APP_CLIENT_ID":"7qismhftk1ehili7a4qp9cc5el"}}')},116:function(e,t,a){},138:function(e,t,a){e.exports=a(298)},143:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},271:function(e,t,a){},273:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(43),l=a(135),c=a(47),i=a(5),s=a(6),d=a(8),u=a(7),m=a(9),h=(a(143),a(49)),g=a(15);g.i.configure({Auth:{region:"us-west-2",identityPoolRegion:"us-west-2",userPoolId:"us-west-2_x1nV7VStG4",userPoolWebClientId:"7qismhftk1ehili7a4qp9cc5el",authenticationFlowType:"USER_PASSWORD_AUTH"}});var p=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).usernameRef=o.a.createRef(),a.passwordRef=o.a.createRef(),a.onSubmit=function(e){e.preventDefault();var t={username:a.usernameRef.current.value,password:a.passwordRef.current.value},n=t.username,o=t.password;h.a.signIn({username:n,password:o,validationData:{}}).then((function(e){return console.log("user:... ",e),a.props.onLogin(e)})).catch((function(e){return console.log(e)})),e.currentTarget.reset()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-login"},o.a.createElement("main",{className:"main-login"},o.a.createElement("section",{className:"login-box1"},o.a.createElement("h2",null,"sign in to iNavig8"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),o.a.createElement("form",{className:"",onSubmit:this.onSubmit},o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/username-icon.png",alt:"username-icon"}),o.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"username",ref:this.usernameRef})),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"password",ref:this.passwordRef})),o.a.createElement("p",null,o.a.createElement("a",{href:"/forgot"},"forgot password?")),o.a.createElement("p",null,o.a.createElement("a",{href:"/register"},"create an account")),o.a.createElement("input",{type:"submit",className:"button",value:"sign in"}))),o.a.createElement("section",{className:"title-box1"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"}))))}}]),t}(o.a.Component),b=(a(116),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-notLoggedIn"},o.a.createElement("main",{className:"main-notLoggedIn"},o.a.createElement("section",{className:"title-box-right2"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"})),o.a.createElement("section",{className:"input-box-area2"},o.a.createElement("h2",null,"forgot password"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/username-icon.png",alt:"username-icon"}),o.a.createElement("input",{type:"email",id:"email",placeholder:"email"})),o.a.createElement("input",{type:"button",className:"button",value:"send"}),o.a.createElement("p",{className:"link-signin"},o.a.createElement("a",{href:"/"},"I remember my password!")))))}}]),t}(o.a.Component)),E=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-notLoggedIn"},o.a.createElement("main",{className:"main-notLoggedIn"},o.a.createElement("section",{className:"title-box-right2"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"})),o.a.createElement("section",{className:"input-box-area2"},o.a.createElement("h2",null,"reset password"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),o.a.createElement("div",{className:"login-area on-right"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"password",placeholder:"password"})),o.a.createElement("div",{className:"login-area on-right"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"confirm-password",placeholder:"confirm password"})),o.a.createElement("input",{type:"button",className:"button",value:"reset"}))))}}]),t}(o.a.Component),j=a(94),_=a.n(j),y=a(26),f=a(129),v=(a(217),a(11));function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}g.i.configure({Auth:{region:"us-west-2",identityPoolRegion:"us-west-2",userPoolId:"us-west-2_x1nV7VStG4",userPoolWebClientId:"7qismhftk1ehili7a4qp9cc5el"}});h.a.configure();var S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",email:"",password:"",confirmpassword:"",errors:{cognito:null,blankfield:!1,passwordmatch:!1}},a.clearErrorState=function(){a.setState({errors:{cognito:null,blankfield:!1,passwordmatch:!1}})},a.handleSubmit=function(){var e=Object(f.a)(_.a.mark((function e(t){var n,o,r,l,c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,o=n.username,r=n.email,l=n.password,e.prev=2,e.next=5,h.a.signUp({username:o,password:l,attributes:{email:r,name:"first last"}});case 5:c=e.sent,a.props.history.push("/confirm"),console.log(c),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),i=null,i=e.t0.message?e.t0:{message:e.t0},a.setState({errors:O({},a.state.errors,{cognito:i})});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),a.onInputChange=function(e){a.setState(Object(y.a)({},e.target.id,e.target.value)),document.getElementById(e.target.id).classList.remove("is-danger")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-login"},o.a.createElement("main",{className:"main-login"},o.a.createElement("section",{className:"login-box1"},o.a.createElement("h2",null,"register with iNavig8"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),o.a.createElement("form",{className:"",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/username-icon.png",alt:"username-icon"}),o.a.createElement("input",{type:"text",id:"username","aria-describedby":"userNameHelp",placeholder:"username",value:this.state.username,onChange:this.onInputChange})),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/username-icon.png",alt:"username-icon"}),o.a.createElement("input",{type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange})),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"password",placeholder:"password",value:this.state.password,onChange:this.onInputChange})),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"confirmpassword",placeholder:"confirm password",value:this.state.confirmpassword,onChange:this.onInputChange})),o.a.createElement("p",null,o.a.createElement("a",{href:"/login"},"I know my login")),o.a.createElement("input",{type:"submit",className:"button",value:"register"}))),o.a.createElement("section",{className:"title-box1"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"}))))}}]),t}(n.Component),C=(a(218),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-login"},o.a.createElement("main",{className:"main-login"},o.a.createElement("section",{className:"login-box1"},o.a.createElement("h2",null,"register with iNavig8"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),"Check your email. ",o.a.createElement("br",null),o.a.createElement("a",{href:"/"},"login")),o.a.createElement("section",{className:"title-box1"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"}))))}}]),t}(n.Component)),w=a(57),D=a(308),k=a(307),x=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("admin"));return o.a.createElement("div",{className:"header0"},o.a.createElement(D.a,{bg:"primary",variant:"dark"},o.a.createElement(D.a.Brand,{href:"/"},o.a.createElement("img",{alt:"iNavig8 Logo",src:"/img/iNavig8_Logo-bootstrap.png",width:"50",height:"40",className:"d-inline-block align-middle"})," ","iNavig8"),o.a.createElement(k.a,{className:"mr-auto"},o.a.createElement(k.a.Link,{href:"/"},"back to Dashboard")),o.a.createElement(D.a.Toggle,null),o.a.createElement(D.a.Collapse,{className:"justify-content-end"},o.a.createElement(D.a.Text,null,"signed in as: ",e?e.username:""))))}}]),t}(o.a.Component),I=a(306),N=a(300),L=a(309),U=a(75),P=a(301),T=a(77),G=a(92),A=a.n(G),F=a(2),R=a(13),B=a(12),H=a.n(B);var V=function(e){var t=H()(e.img),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.background_offset,y:0,scaleX:.9,scaleY:.9,image:a})};a(271);var J=function(e){return e.connections.map((function(e){return o.a.createElement(F.Line,{key:e,points:[e.v1.x,e.v1.y,e.v2.x,e.v2.y],tension:.5,stroke:"red",x:4,y:4,alpha:.75})}))};var z=function(e){return e.shortest_path.map((function(e){return o.a.createElement(F.Line,{key:e,points:[e.v1.x,e.v1.y,e.v2.x,e.v2.y],tension:.5,stroke:"blue",x:4,y:4,alpha:.75})}))},Y="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/square.png"),X=function(e){var t=H()(Y),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.02,scaleY:.02,short_name:"generic",object_type_id:3,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var q=function(e){return e.objects.map((function(t){return t.object_type&&"generic"===t.object_type.short_name&&o.a.createElement(X,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},W=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,radius:3,object_id:e.object_id,name:e.name,fill:"black",short_name:"path",object_type_id:1,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Z=function(e){return e.objects.map((function(t){return t.object_type&&"path"===t.object_type.short_name&&o.a.createElement(W,{key:t.object_id,object_id:t.object_id,x:t.image_x,y:t.image_y,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))};var $=function(e){return e.objects.map((function(t){return t.object_type&&"door"===t.object_type.short_name&&o.a.createElement(F.Star,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,numPoints:5,innerRadius:5,outerRadius:10,fill:"#cccccc",opacity:.8,draggable:!0,rotation:180*Math.random(),shadowColor:"black",shadowBlur:10,shadowOpacity:.6,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},K="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/elevator.png"),Q=function(e){var t=H()(K),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"elevator",object_type_id:6,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var ee=function(e){return e.objects.map((function(t){return t.object_type&&"elevator"===t.object_type.short_name&&o.a.createElement(Q,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},te="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/stairs.png"),ae=function(e){var t=H()(te),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"stairs",object_type_id:7,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var ne=function(e){return e.objects.map((function(t){return t.object_type&&"stairs"===t.object_type.short_name&&o.a.createElement(ae,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},oe="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/coffee.png"),re=function(e){var t=H()(oe),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,object_type_id:8,scaleX:.04,scaleY:.04,short_name:"coffee",draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var le=function(e){return e.objects.map((function(t){return t.object_type&&"coffee"===t.object_type.short_name&&o.a.createElement(re,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,handleClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut})}))},ce="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/utensils.png"),ie=function(e){var t=H()(ce),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"utensils",object_type_id:9,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var se=function(e){return e.objects.map((function(t){return t.object_type&&"utensils"===t.object_type.short_name&&o.a.createElement(ie,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},de="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/restroom.png"),ue=function(e){var t=H()(de),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"restroom",object_type_id:10,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var me=function(e){return e.objects.map((function(t){return t.object_type&&"restroom"===t.object_type.short_name&&o.a.createElement(ue,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},he="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/male.png"),ge=function(e){var t=H()(he),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"male",object_type_id:11,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var pe=function(e){return e.objects.map((function(t){return t.object_type&&"male"===t.object_type.short_name&&o.a.createElement(ge,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},be="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/female.png"),Ee=function(e){var t=H()(be),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"female",object_type_id:12,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var je=function(e){return e.objects.map((function(t){return t.object_type&&"female"===t.object_type.short_name&&o.a.createElement(Ee,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},_e="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/heartbeat.png"),ye=function(e){var t=H()(_e),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"heartbeat",object_type_id:13,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var fe=function(e){return e.objects.map((function(t){return t.object_type&&"heartbeat"===t.object_type.short_name&&o.a.createElement(ye,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},ve="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/recycle.png"),Me=function(e){var t=H()(ve),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"recycle",object_type_id:14,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var Oe=function(e){return e.objects.map((function(t){return t.object_type&&"recycle"===t.object_type.short_name&&o.a.createElement(Me,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},Se="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/fire-extinguisher.png"),Ce=function(e){var t=H()(Se),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"fire extinguisher",object_type_id:15,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var we=function(e){return e.objects.map((function(t){return t.object_type&&"fire extinguisher"===t.object_type.short_name&&o.a.createElement(Ce,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},De="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/map-marker.png"),ke=function(e){var t=H()(De),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"map marker",object_type_id:16,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var xe=function(e){return e.objects.map((function(t){return t.object_type&&"map marker"===t.object_type.short_name&&o.a.createElement(ke,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},Ie="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/door-open.png"),Ne=function(e){var t=H()(Ie),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"door open",object_type_id:18,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var Le=function(e){return e.objects.map((function(t){return t.object_type&&"door open"===t.object_type.short_name&&o.a.createElement(Ne,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},Ue="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/door-closed.png"),Pe=function(e){var t=H()(Ue),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"door closed",object_type_id:19,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var Te=function(e){return e.objects.map((function(t){return t.object_type&&"door closed"===t.object_type.short_name&&o.a.createElement(Pe,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},Ge=function(e){return o.a.createElement(F.Rect,{x:e.x,y:e.y,object_id:e.object_id,width:14,height:14,name:e.name,fill:"red",short_name:"red square",object_type_id:20,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1})};var Ae=function(e){return e.objects.map((function(t){return t.object_type&&"red square"===t.object_type.short_name&&o.a.createElement(Ge,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragRectStart,onDragEnd:e.handleDragRectEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1,handleClick:e.handleClick})}))},Fe=function(e){return o.a.createElement(F.Rect,{x:e.x,y:e.y,object_id:e.object_id,width:14,height:14,name:e.name,fill:"lightgrey",short_name:"grey square",object_type_id:21,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1})};var Re=function(e){return e.objects.map((function(t){return t.object_type&&"grey square"===t.object_type.short_name&&o.a.createElement(Fe,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragRectStart,onDragEnd:e.handleDragRectEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1,handleClick:e.handleClick})}))},Be=function(e){return o.a.createElement(F.Rect,{x:e.x,y:e.y,object_id:e.object_id,width:14,height:14,name:e.name,fill:"green",short_name:"green square",object_type_id:22,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1})};var He=function(e){return e.objects.map((function(t){return t.object_type&&"green square"===t.object_type.short_name&&o.a.createElement(Be,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragRectStart,onDragEnd:e.handleDragRectEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1,handleClick:e.handleClick})}))},Ve=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:3,name:e.name,fill:"red",short_name:"red circle sm",object_type_id:27,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Je=function(e){return e.objects.map((function(t){return t.object_type&&"red circle sm"===t.object_type.short_name&&o.a.createElement(Ve,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},ze=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:3,name:e.name,fill:"lightgrey",short_name:"grey circle sm",object_type_id:26,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Ye=function(e){return e.objects.map((function(t){return t.object_type&&"grey circle sm"===t.object_type.short_name&&o.a.createElement(ze,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},Xe=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:3,name:e.name,fill:"green",short_name:"green circle sm",object_type_id:23,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var qe=function(e){return e.objects.map((function(t){return t.object_type&&"green circle sm"===t.object_type.short_name&&o.a.createElement(Xe,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},We=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:7,name:e.name,fill:"red",short_name:"red circle lg",object_type_id:28,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Ze=function(e){return e.objects.map((function(t){return t.object_type&&"red circle lg"===t.object_type.short_name&&o.a.createElement(We,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},$e=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:7,name:e.name,fill:"lightgrey",short_name:"grey circle lg",object_type_id:25,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Ke=function(e){return e.objects.map((function(t){return t.object_type&&"grey circle lg"===t.object_type.short_name&&o.a.createElement($e,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},Qe=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:7,name:e.name,fill:"green",short_name:"green circle lg",object_type_id:24,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var et=function(e){return e.objects.map((function(t){return t.object_type&&"green circle lg"===t.object_type.short_name&&o.a.createElement(Qe,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},tt="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/image-regular.png"),at=function(e){var t=H()(tt),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"image regular",object_type_id:10,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})},nt="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/pencil-alt.png"),ot=function(e){var t=H()(nt),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("pencil clicked")},image:a})},rt="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/redo-alt.png"),lt=function(e){var t=H()(rt),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("rotate cw")},image:a})},ct=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,radius:3,object_id:e.object_id,name:e.name,fill:"white",stroke:"black",short_name:"location_primary",object_type_id:4,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})},it="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/undo-alt.png"),st=function(e){var t=H()(it),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("rotate ccw")},image:a})},dt=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,radius:3,object_id:e.object_id,name:e.name,fill:"white",stroke:"lightgrey",short_name:"location_secondary",object_type_id:5,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})},ut="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/plus.png"),mt=function(e){var t=H()(ut),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})},ht="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/minus.png"),gt=function(e){var t=H()(ht),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})},pt="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/hand-paper.png"),bt=function(e){var t=H()(pt),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("pan mode clicked",e.target)},image:a})},Et="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/draw-polygon.png"),jt=function(e){var t=H()(Et),a=Object(R.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("draw polygon clicked")},image:a})},_t=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(F.Label,null,o.a.createElement(F.Text,{text:this.props.object_id+" "+this.props.short_name,fontFamily:"Calibri",fontSize:14,lineHeight:1.2,padding:5,textFill:"white",alpha:.75,fill:"green",visible:this.props.visible,x:this.props.x-this.props.background_offset+35,y:this.props.y-30}))}}]),t}(o.a.Component);function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ft,vt,Mt,Ot,St,Ct,wt=4,Dt=150,kt=[15,50,85],xt=[40,80,120,160,200,240,280,320,360,400,440,480,520,560,600,640],It=window.innerWidth,Nt=window.innerHeight,Lt=0,Ut=0,Pt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={visible:!1,object_id:0,short_name:"",stage_scale:1,x:0,y:0,add_connection_begin:0,delete_connection_begin:0,shortest_path_begin:0,connections:[],shortest_path:[],currentObjectG:{object_id:0,location_id:0,short_name:"",long_name:"",description:"",object_type:"",x_coordinate:0,y_coordinate:0,image_x:0,image_y:0}},a.onZoomIn=function(e){console.log("zoom in.");var t=a.state.stage_scale+.05;console.log("zoom in - newScale right before setState: ",t),console.log(5),a.setState((function(e){return{stage_scale:t}})),e.target.getStage().draw()},a.onZoomOut=function(e){console.log("zoom out.");var t=a.state.stage_scale-.05;console.log("zoom out - newScale right before setState: ",t),a.setState((function(e){return{stage_scale:t}})),e.target.getStage().draw()},a.handleClick=function(e){console.log("clicked."),console.log("handleClick in Graphics.js, object_id",e.currentTarget.attrs.object_id);var t=a.props.objects.filter((function(t){return t.object_id===e.currentTarget.attrs.object_id}));console.log("curObj right before setState: ",t),a.setState((function(e){return{currentObjectG:t[0]}})),console.log("currentObjectG after setState: ",a.state.currentObjectG.object_id),a.props.handleShowModalG(!0)},a.handleMouseMove=function(e){ft=e.target.getStage(),(vt=ft.getPointerPosition()).x>Dt&&a.setState({visible:!0,object_id:e.target.attrs.object_id,short_name:e.target.attrs.short_name,x:vt.x,y:vt.y})},a.handleMouseOut=function(e){a.setState({visible:!1,object_id:0,short_name:"",x:vt.x,y:vt.y}),e.target.getStage().draw(),console.log("mouse out - object id: ",e.target.attrs.object_id," ",e.target.attrs.short_name)},a.handleDragImageStart=function(e){console.log("drag image start: ",e),Lt=e.target.attrs.x,Ut=e.target.attrs.y,e.target.setAttrs({shadowOffset:{x:wt,y:wt}})},a.handleDragImageEnd=function(e){console.log("drag image end: ",e),console.log(Lt," ",Ut);var t=e.target.getStage().getPointerPosition();console.table({x:t.x,y:t.y}),console.log("new - objects length before add is ",a.props.objects.length),console.log("target is: ",e.target),console.log("location id: "+a.props.location_id),console.log("short name: "+e.target.attrs.short_name),console.log("object type id: "+e.target.attrs.object_type_id);var n=Math.round(t.x),o=Math.round(t.y),r=JSON.stringify({location_id:a.props.location_id,short_name:e.target.attrs.short_name,long_name:"a",description:"a",object_type_id:e.target.attrs.object_type_id,x_coordinate:0,y_coordinate:0,image_x:n,image_y:o});a.props.handleNewObject(r),e.target.position({x:Lt,y:Ut}),e.target.to({duration:.2,easing:A.a.Easings.ElasticEaseOut,shadowOffsetX:0,shadowOffsetY:0}),e.target.getStage().draw()},a.onClose=function(){console.log("closing modal show - ",a.props.showModalG),a.props.handleShowModalG(!1)},a.onOpen=function(){console.log("opening modal show - ",a.props.showModalG),a.props.handleShowModalG(!0)},a.onUpdate=function(){console.log("Graphics.js onUpdate - description: ",a.state.currentObjectG.description);var e=JSON.stringify({object_id:a.state.currentObjectG.object_id,location_id:a.state.currentObjectG.location_id,short_name:a.state.currentObjectG.short_name,long_name:a.state.currentObjectG.long_name,description:a.state.currentObjectG.description,object_type_id:a.state.currentObjectG.object_type_id,x_coordinate:0,y_coordinate:0,image_x:a.state.currentObjectG.image_x,image_y:a.state.currentObjectG.image_y});a.props.handleUpdateObject(e),a.onClose()},a.onDelete=function(e){a.props.handleDeleteObject(e),console.log("deleted from Graphics.js! id: ",e),a.onClose()},a.onChange=function(e){console.log("currentTarget: ",e.currentTarget.name),console.log("currentValue: ",e.currentTarget.value);var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state.currentObjectG,Object(y.a)({},e.currentTarget.name,e.currentTarget.value));console.log("onChange currentObjectG before setState: ",t),a.setState({currentObjectG:t}),console.log("Graphics.js onChange object: ",t),console.log("Graphics.js onChange object from state: ",a.state.currentObjectG)},a.onShowConnections=function(e){console.log("showing connections in Graphics.js, location id "+a.props.location_id);var t=v.api.headers,n=v.api.invokeUrl+"/edges/location/"+a.props.location_id;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){a.getPrimarySecondary(),a.setState({connections:e.body.data}),a.scaleConnections2Canvas(),console.log("list of connections: ",a.state.connections)}))},a.onDeleteConnection=function(e){if(0==a.state.delete_connection_begin)a.setState({add_connection_begin:0,delete_connection_begin:e});else{var t={source_object_id:a.state.delete_connection_begin,dest_object_id:e};a.deleteConnection(t)}console.log("deleting connection from obj: ",e)},a.deleteConnection=function(e){var t=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"),n=v.api.headers;console.log("params: ",e);var o=v.api.invokeUrl+"/edge/remove-undirected?"+t;fetch(o,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),a.setState({add_connection_begin:0,delete_connection_begin:0}),a.onShowConnections()}))},a.onAddConnection=function(e){if(0==a.state.add_connection_begin)a.setState({add_connection_begin:e,delete_connection_begin:0});else{var t={source_object_id:a.state.add_connection_begin,source_location_id:a.state.currentObjectG.location_id,dest_object_id:e,dest_location_id:a.state.currentObjectG.location_id};a.addConnection(t)}console.log("adding connection to obj: ",e)},a.addConnection=function(e){var t=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"),n=v.api.headers;console.log("params: ",e);var o=v.api.invokeUrl+"/edge/set-undirected?"+t;fetch(o,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),a.setState({add_connection_begin:0,delete_connection_begin:0}),a.onShowConnections()}))},a.onShortestPath=function(e){if(0==a.state.shortest_path_begin)a.setState({shortest_path_begin:e});else{var t={source_object_id:a.state.shortest_path_begin,source_location_id:a.state.currentObjectG.location_id,dest_object_id:e,dest_location_id:a.state.currentObjectG.location_id};a.shortestPath(t)}},a.shortestPath=function(e){var t=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"),n=v.api.headers;console.log("params: ",e);var o=v.api.invokeUrl+"/path/shortest-source-dest?"+t;fetch(o,{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),a.getPrimarySecondary(),a.setState({shortest_path:e.body.data}),a.scaleShortestPath2Canvas()}))},a.getPrimarySecondary=function(){Mt=a.props.objects.find((function(e){return"location_primary"===e.short_name})),Ot=a.props.objects.find((function(e){return"location_secondary"===e.short_name})),St=(Ot.x_coordinate-Mt.x_coordinate)/(Ot.image_x-Mt.image_x),Ct=(Ot.y_coordinate-Mt.y_coordinate)/(Ot.image_y-Mt.image_y)},a.scaleConnections2Canvas=function(){var e=a.state.connections;e.map((function(e){return console.log("v1 object_id: ",e.v1.object_id),console.log("v2 object_id: ",e.v2.object_id),console.log("primary.image_x: ",Mt.image_x),console.log("primary.image_x: ",Mt.image_y),console.log("before"),console.log("edge v1: "+e.v1.x+" "+e.v1.y),console.log("edge v2: "+e.v2.x+" "+e.v2.y),console.log("after"),e.v1.x=Math.round(e.v1.x*(1/St)+Mt.image_x),e.v1.y=Math.round(e.v1.y*(1/Ct)+Mt.image_y),e.v2.x=Math.round(e.v2.x*(1/St)+Mt.image_x),e.v2.y=Math.round(e.v2.y*(1/Ct)+Mt.image_y),console.log("edge v1: "+e.v1.x+" "+e.v1.y),console.log("edge v2: "+e.v2.x+" "+e.v2.y)})),a.setState({connections:e}),console.log("after conversion: ",a.state.connections)},a.scaleShortestPath2Canvas=function(){var e=a.state.shortest_path;e.map((function(e){return console.log("v1 object_id: ",e.v1.object_id),console.log("v2 object_id: ",e.v2.object_id),console.log("primary.image_x: ",Mt.image_x),console.log("primary.image_x: ",Mt.image_y),console.log("before"),console.log("edge v1: "+e.v1.x+" "+e.v1.y),console.log("edge v2: "+e.v2.x+" "+e.v2.y),console.log("after"),e.v1.x=Math.round(e.v1.x*(1/St)+Mt.image_x),e.v1.y=Math.round(e.v1.y*(1/Ct)+Mt.image_y),e.v2.x=Math.round(e.v2.x*(1/St)+Mt.image_x),e.v2.y=Math.round(e.v2.y*(1/Ct)+Mt.image_y),console.log("edge v1: "+e.v1.x+" "+e.v1.y),console.log("edge v2: "+e.v2.x+" "+e.v2.y)})),a.setState({shortest_path:e}),console.log("after conversion - shortest_path: ",a.state.shortest_path)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("graphics mount")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"graphics"},o.a.createElement(F.Stage,{width:It,height:Nt,scaleX:1,scaleY:1},o.a.createElement(F.Layer,{name:"background",draggable:!0}),o.a.createElement(F.Layer,{name:"main",scaleX:this.state.stage_scale,scaleY:this.state.stage_scale,draggable:!0},this.props.location.map((function(t){return o.a.createElement(V,{key:t.location_id,img:t.canvas_image,stage_scale:e.state.stage_scale,background_offset:Dt})})),o.a.createElement(J,{connections:this.state.connections}),o.a.createElement(z,{shortest_path:this.state.shortest_path}),o.a.createElement(q,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Z,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement($,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(ee,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(ne,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(le,{objects:this.props.objects,handleClick:this.handleClick,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(se,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(me,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(pe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(je,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(fe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Oe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(we,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(xe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Le,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Te,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ae,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Re,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(He,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ze,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ke,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(et,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Je,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ye,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(qe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick})),o.a.createElement(F.Layer,null,o.a.createElement(_t,{visible:this.state.visible,object_id:this.state.object_id,short_name:this.state.short_name,x:this.state.x,y:this.state.y,background_offset:Dt})),o.a.createElement(F.Layer,{name:"toolbar",scaleX:1,scaleY:1},o.a.createElement(F.Rect,{x:0,y:0,width:120,height:680,fill:"white",stroke:"lightgrey"}),o.a.createElement(Ve,{x:kt[0]+7,y:xt[0]+7}),o.a.createElement(Ve,{x:kt[0]+7,y:xt[0]+7,name:"CircRdSm",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ze,{x:kt[1]+7,y:xt[0]+7}),o.a.createElement(ze,{x:kt[1]+7,y:xt[0]+7,name:"CircGrySm",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Xe,{x:kt[2]+7,y:xt[0]+7}),o.a.createElement(Xe,{x:kt[2]+7,y:xt[0]+7,name:"CircGrnSm",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(We,{x:kt[0]+7,y:xt[1]+7}),o.a.createElement(We,{x:kt[0]+7,y:xt[1]+7,name:"CircRdLg",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement($e,{x:kt[1]+7,y:xt[1]+7}),o.a.createElement($e,{x:kt[1]+7,y:xt[1]+7,name:"CircGryLg",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Qe,{x:kt[2]+7,y:xt[1]+7}),o.a.createElement(Qe,{x:kt[2]+7,y:xt[1]+7,name:"CircGrnLg",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ge,{x:kt[0],y:xt[2]}),o.a.createElement(Ge,{x:kt[0],y:xt[2],name:"Rect2",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Fe,{x:kt[1],y:xt[2]}),o.a.createElement(Fe,{x:kt[1],y:xt[2],name:"Rect2",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Be,{x:kt[2],y:xt[2]}),o.a.createElement(Be,{x:kt[2],y:xt[2],name:"Rect2",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ue,{x:kt[0],y:xt[3]}),o.a.createElement(ue,{x:kt[0],y:xt[3],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ge,{x:kt[1]+7,y:xt[3]}),o.a.createElement(ge,{x:kt[1]+7,y:xt[3],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ee,{x:kt[2]+7,y:xt[3]}),o.a.createElement(Ee,{x:kt[2]+7,y:xt[3],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(re,{x:kt[0],y:xt[4]}),o.a.createElement(re,{x:kt[0],y:xt[4],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ie,{x:kt[1],y:xt[4]}),o.a.createElement(ie,{x:kt[1],y:xt[4],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ne,{x:kt[0],y:xt[5]}),o.a.createElement(Ne,{x:kt[0],y:xt[5],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Pe,{x:kt[1],y:xt[5]}),o.a.createElement(Pe,{x:kt[1],y:xt[5],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ae,{x:kt[0],y:xt[6]}),o.a.createElement(ae,{x:kt[0],y:xt[6],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Q,{x:kt[1],y:xt[6]}),o.a.createElement(Q,{x:kt[1],y:xt[6],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ye,{x:kt[0],y:xt[7]}),o.a.createElement(ye,{x:kt[0],y:xt[7],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Me,{x:kt[0],y:xt[8]}),o.a.createElement(Me,{x:kt[0],y:xt[8],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ce,{x:kt[0],y:xt[9]}),o.a.createElement(Ce,{x:kt[0],y:xt[9],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ke,{x:kt[0],y:xt[10]}),o.a.createElement(ke,{x:kt[0],y:xt[10],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(at,{x:kt[0],y:xt[11]}),o.a.createElement(at,{x:kt[0],y:xt[11],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(X,{x:kt[0]+5,y:xt[12]+5}),o.a.createElement(X,{x:kt[0]+5,y:xt[12]+5,handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(W,{x:kt[1]+9,y:xt[12]+9}),o.a.createElement(W,{x:kt[1]+9,y:xt[12]+9,handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ot,{x:kt[0],y:xt[13],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(jt,{x:kt[1],y:xt[13],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ct,{x:kt[2]+9,y:xt[13]+9}),o.a.createElement(ct,{x:kt[2]+9,y:xt[13]+9,handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(lt,{x:kt[0],y:xt[14],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(st,{x:kt[1],y:xt[14],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(dt,{x:kt[2]+9,y:xt[14]+9}),o.a.createElement(dt,{x:kt[2]+9,y:xt[14]+9,handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(mt,{x:kt[0],y:xt[15],handleClick:this.onZoomIn}),o.a.createElement(gt,{x:kt[1],y:xt[15]+6,handleClick:this.onZoomOut}),o.a.createElement(bt,{x:kt[2],y:xt[15],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}))),o.a.createElement(I.a,{show:this.props.showModalG,onHide:this.onClose},o.a.createElement(I.a.Header,{closeButton:!0},o.a.createElement(I.a.Title,null,"Object ID: ",this.state.currentObjectG.object_id)),o.a.createElement(I.a.Body,null,o.a.createElement("label",{htmlFor:"short_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Short Name")),o.a.createElement(L.a,{"aria-label":"short_name","aria-describedby":"basic-addon1",name:"short_name",defaultValue:this.state.currentObjectG.short_name,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"long_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Long Name")),o.a.createElement(L.a,{placeholder:"enter long name","aria-label":"long_name","aria-describedby":"basic-addon1",name:"long_name",defaultValue:this.state.currentObjectG.long_name,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"description"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Description")),o.a.createElement(L.a,{placeholder:"no description","aria-label":"description","aria-describedby":"basic-addon1",name:"description",defaultValue:this.state.currentObjectG.description,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"image_x"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Image Location X")),o.a.createElement(L.a,{placeholder:"no x-coordinate","aria-label":"image_x","aria-describedby":"basic-addon1",name:"image_x",defaultValue:this.state.currentObjectG.image_x,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"image_y"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Image Location Y")),o.a.createElement(L.a,{placeholder:"no y-coordinate","aria-label":"image_y","aria-describedby":"basic-addon1",name:"image_y",defaultValue:this.state.currentObjectG.image_y,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"location_id"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Location ID")),o.a.createElement(L.a,{"aria-label":"location_id","aria-describedby":"basic-addon1",name:"location_id",defaultValue:this.state.currentObjectG.location_id,readOnly:"readonly"}))),o.a.createElement("hr",null),o.a.createElement(U.a,{variant:"danger",onClick:function(){return e.onDelete(e.state.currentObjectG.object_id)}},"Delete"),o.a.createElement(P.a,{variant:"info",id:"dropdown-basic-button",title:"Connections"},o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onAddConnection(e.state.currentObjectG.object_id)}},"Add - Begin"),o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onAddConnection(e.state.currentObjectG.object_id)}},"Add - End"),o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onDeleteConnection(e.state.currentObjectG.object_id)}},"Delete - Begin"),o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onDeleteConnection(e.state.currentObjectG.object_id)}},"Delete - End"),o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onShowConnections()}},"Show all connections")),o.a.createElement(P.a,{variant:"info",id:"dropdown-basic-button",title:"Shortest Path"},o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onShortestPath(e.state.currentObjectG.object_id)}},"Path - Begin"),o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onShortestPath(e.state.currentObjectG.object_id)}},"Path - End"))),o.a.createElement(I.a.Footer,null,o.a.createElement(U.a,{onClick:this.onClose},"Close"),o.a.createElement(U.a,{onClick:this.onUpdate},"Update"))))}}]),t}(o.a.Component);a(273);function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var At=function(e){function t(){var e,a;t(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=t(d.a)(this,(e=t(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModal:!1,currentIndex:a.props.id,currentObject:a.props.details},a.onClose=function(){a.setState({showModal:!1})},a.onOpen=function(){a.setState({showModal:!0})},a.onUpdate=function(){var e=JSON.stringify({object_id:a.state.currentObject.object_id,location_id:a.state.currentObject.location_id,short_name:a.state.currentObject.short_name,long_name:a.state.currentObject.long_name,description:a.state.currentObject.description,object_type_id:a.state.currentObject.object_type_id,x_coordinate:0,y_coordinate:0,image_x:a.state.currentObject.image_x,image_y:a.state.currentObject.image_y});a.props.handleHide(),a.props.handleUpdateObject(e),a.onClose()},a.onDelete=function(e){a.props.handleHide(),a.props.handleDeleteObject(e),a.onClose()},a.onChange=function(e){var n=Gt({},a.state.currentObject,t(y.a)({},e.currentTarget.name,e.currentTarget.value));a.setState({currentObject:n})},a}return t(m.a)(t,e),t(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.currentObject,a=t.object_id,n=t.short_name,r=t.image_x,l=t.image_y,c=t.location_id;return console.log("Obj.js's this.props.details",this.props.details),console.log("Obj.js's  this.state.currentObject",this.state.currentObject),console.log("Obj.js's  this.state.currentIndex",this.state.currentIndex),o.a.createElement("div",null,o.a.createElement("ul",{className:"object-list"},o.a.createElement("li",null,n," (id: ",a,")"),o.a.createElement("li",null,o.a.createElement(U.a,{variant:"primary",size:"sm",onClick:this.onOpen},"details"))),o.a.createElement(I.a,{show:this.state.showModal,onHide:this.onClose},o.a.createElement(I.a.Header,{closeButton:!0},o.a.createElement(I.a.Title,null,"Object ID: ",a)),o.a.createElement(I.a.Body,null,o.a.createElement("label",{htmlFor:"short_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Short Name")),o.a.createElement(L.a,{"aria-label":"short_name","aria-describedby":"basic-addon1",name:"short_name",defaultValue:n,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"long_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Long Name")),o.a.createElement(L.a,{placeholder:"enter long name","aria-label":"long_name","aria-describedby":"basic-addon1",name:"long_name",defaultValue:this.state.currentObject.long_name,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"description"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Description")),o.a.createElement(L.a,{placeholder:"no description","aria-label":"description","aria-describedby":"basic-addon1",name:"description",defaultValue:this.state.currentObject.description,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"image_x"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Image Location X")),o.a.createElement(L.a,{placeholder:"no x-coordinate","aria-label":"image_x","aria-describedby":"basic-addon1",name:"image_x",defaultValue:r,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"image_y"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Image Location Y")),o.a.createElement(L.a,{placeholder:"no y-coordinate","aria-label":"image_y","aria-describedby":"basic-addon1",name:"image_y",defaultValue:l,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"location_id"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Location ID")),o.a.createElement(L.a,{"aria-label":"location_id","aria-describedby":"basic-addon1",name:"location_id",defaultValue:c,readOnly:"readonly"}))),o.a.createElement("hr",null),o.a.createElement(U.a,{variant:"danger",onClick:function(){return e.onDelete(a)}},"Delete")),o.a.createElement(I.a.Footer,null,o.a.createElement(U.a,{onClick:this.onClose},"Close"),o.a.createElement(U.a,{onClick:this.onUpdate},"Update"))))}}]),t}(o.a.Component),Ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isActive:!1},a.handleUpdateObject=function(e){a.props.handleUpdateObject(e),console.log("updated from Data.js! raw : ",e)},a.handleDeleteObject=function(e){a.props.handleDeleteObject(e),console.log("deleted from Data.js! id: ",e)},a.handleShow=function(){a.setState({isActive:!0})},a.handleHide=function(){a.setState({isActive:!1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.objects,a=this.props.location;return this.state.isActive?o.a.createElement("div",{id:"dataArea1"},o.a.createElement("div",{className:"top-button"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleHide},"hide data")),Object.keys(t).map((function(n){return o.a.createElement(At,{key:n,id:n,details:t[n],handleHide:e.handleHide,handleCurrentIndex:e.handleCurrentIndex,location_id:a.location_id,handleDeleteObject:e.handleDeleteObject,handleUpdateObject:e.handleUpdateObject})})),console.log("objects in object keys: ",this.state)):o.a.createElement("div",{id:"dataArea2"},o.a.createElement("div",{className:"top-button"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleShow},"show data")))}}]),t}(o.a.Component),Rt=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(D.a,{bg:"dark",variant:"dark"},o.a.createElement(D.a.Brand,{href:"#home"},"iNavig8"))}}]),t}(o.a.Component),Bt=(a(274),a(302)),Ht=a(303),Vt=a(304);a(275);function Jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Yt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModalG:!1,showModalStart:!1,showModalSetScale:!1,primaryObject:{object_id:0,location_id:0,short_name:"",long_name:"",description:"",object_type:"",x_coordinate:0,y_coordinate:0,image_x:0,image_y:0},secondaryObject:{object_id:0,location_id:0,short_name:"",long_name:"",description:"",object_type:"",x_coordinate:0,y_coordinate:0,image_x:0,image_y:0},location:[],objects:[]},a.handleShowModalStart=function(e){console.log("status in Graphics.js............................: ",e),a.setState({showModalStart:e}),console.log("showModalStart: ",a.state.showModalStart)},a.onCloseModalStart=function(){console.log("closing modal show - ",a.state.showModalStart),a.handleShowModalStart(!1)},a.onClose=function(){console.log("closing setScale modal show - ",a.state.showModalSetScale),a.handleShowModalSetScale(!1)},a.onOpen=function(){console.log("opening setScale modal show - ",a.state.showModalSetScale),a.handleShowModalSetScale(!0)},a.onChange=function(e){console.log("currentTarget: ",e.currentTarget.name),console.log("currentValue: ",e.currentTarget.value);var t=zt({},a.state.primaryObject,Object(y.a)({},e.currentTarget.name,e.currentTarget.value));console.log("onChange primaryObject before setState: ",t),a.setState({primaryObject:t}),console.log("Graphics.js onChange object: ",t),console.log("Graphics.js onChange object from state: ",a.state.primaryObject)},a.onChangeSec=function(e){console.log("currentTarget: ",e.currentTarget.name),console.log("currentValue: ",e.currentTarget.value);var t=zt({},a.state.secondaryObject,Object(y.a)({},e.currentTarget.name,e.currentTarget.value));console.log("onChangeSec secondaryObject before setState: ",t),a.setState({secondaryObject:t}),console.log("Graphics.js onChangeSec object: ",t),console.log("Graphics.js onChangeSec object from state: ",a.state.secondaryObject)},a.onSetScale=function(){console.log("primaryObject: ",a.state.primaryObject),console.log("Design.js onUpdate - description: ",a.state.primaryObject.description);var e=JSON.stringify({object_id:a.state.primaryObject.object_id,location_id:a.state.primaryObject.location_id,short_name:a.state.primaryObject.short_name,long_name:a.state.primaryObject.long_name,description:a.state.primaryObject.description,object_type_id:a.state.primaryObject.object_type_id,x_coordinate:0,y_coordinate:0,latitude:a.state.primaryObject.latitude_pri,longitude:a.state.primaryObject.longitude_pri,image_x:a.state.primaryObject.image_x,image_y:a.state.primaryObject.image_y});console.log(JSON.parse(e)),console.log("object_id: ",JSON.parse(e).object_id),console.log("long_name: ",JSON.parse(e).long_name),console.log("description: ",JSON.parse(e).description);a.handleUpdateObject(e),e=JSON.stringify({object_id:a.state.secondaryObject.object_id,location_id:a.state.secondaryObject.location_id,short_name:a.state.secondaryObject.short_name,long_name:a.state.secondaryObject.long_name,description:a.state.secondaryObject.description,object_type_id:a.state.secondaryObject.object_type_id,x_coordinate:0,y_coordinate:0,latitude:a.state.secondaryObject.latitude_sec,longitude:a.state.secondaryObject.longitude_sec,image_x:a.state.secondaryObject.image_x,image_y:a.state.secondaryObject.image_y}),a.handleUpdatePriSecObject(e),a.onClose()},a.handleShowModalSetScale=function(e){console.log("ShowModalSetScale status in Design.js............................: ",e),a.setState({showModalSetScale:e})},a.handleShowModalG=function(e){console.log("status in Design.js............................: ",e),a.setState({showModalG:e})},a.handleDeleteObject=function(e){console.log("deleting object in Design.js, object id "+e);var t=v.api.headers,n=v.api.invokeUrl+"/object/delete/"+e;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){console.log("deleted object from Design.js",t),a.setState((function(t){return{objects:t.objects.filter((function(t){return t.object_id!==e}))}})),console.log("list of objects after setting state: ",a.state.objects)}))},a.handleNewObject=function(e){var t=v.api.headers;console.log("raw: ",e);var n=v.api.invokeUrl+"/object/new";fetch(n,{method:"POST",headers:t,body:e}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),a.setState({objects:[].concat(Object(w.a)(a.state.objects),[zt({},e.body.data[0])])})}))},a.handleUpdatePriSecObject=function(e){console.log("handleUpdatePriSecObject in Design.js = ",e),a.setState((function(t){return{objects:t.objects.filter((function(t){return t.object_id!==JSON.parse(e).object_id}))}}));var t=v.api.headers,n=v.api.invokeUrl+"/object/update";fetch(n,{method:"POST",headers:t,body:e}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),a.setState({objects:[].concat(Object(w.a)(a.state.objects),[zt({},e.body.data[0])])}),a.handleSetScale(),console.log("after setState - Design.js result: ",a.state.objects)}))},a.handleUpdateObject=function(e){console.log("handleUpdateObject in Design.js = ",JSON.parse(e)),a.setState((function(t){return{objects:t.objects.filter((function(t){return t.object_id!==JSON.parse(e).object_id}))}}));var t=v.api.headers,n=v.api.invokeUrl+"/object/update";fetch(n,{method:"POST",headers:t,body:e}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),a.setState({objects:[].concat(Object(w.a)(a.state.objects),[zt({},e.body.data[0])])}),console.log("after setState - Design.js result: ",a.state.objects)}))},a.handleSetScale=function(){console.log("handleSetScale in Design.js");var e=v.api.headers,t=v.api.invokeUrl+"/location/set-scale/"+a.props.match.params.location_id;fetch(t,{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){a.setState({}),console.log("after setState - Design.js result: ",a.state.objects)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("design mount");var t=localStorage.getItem("CognitoIdentityServiceProvider.7qismhftk1ehili7a4qp9cc5el.LastAuthUser");v.api.headers.Authorization=localStorage.getItem("CognitoIdentityServiceProvider.7qismhftk1ehili7a4qp9cc5el."+t+".idToken");var a=v.api.headers,n=v.api.invokeUrl+"/location/"+this.props.match.params.location_id;fetch(n,{method:"GET",headers:a}).then((function(e){return e.json()})).then((function(t){e.setState({location:t.body.data}),console.log("location... ",t.body.data)}));var o=v.api.invokeUrl+"/objects/location/"+this.props.match.params.location_id;fetch(o,{method:"GET",headers:a}).then((function(e){return e.json()})).then((function(t){e.setState({objects:t.body.data}),console.log("JASON! objects: ",t.body.data),console.log("state: ",e.state);var a=e.state.objects.length;if(console.log("obs: ",a),a<2)e.handleShowModalStart(!0);else{var n=e.state.objects[0];console.log("priObj right before setState: ",n),e.setState((function(e){return{primaryObject:n}})),console.log("primaryObject after setState: ",e.state.primaryObject.object_id);var o=e.state.objects[1];console.log("secObj right before setState: ",o),e.setState((function(e){return{secondaryObject:o}})),console.log("secondaryObject after setState: ",e.state.secondaryObject.object_id),console.log("checking if primary and secondary are set...");var r=e.state.objects.find((function(e){return"location_primary"===e.short_name})),l=e.state.objects.find((function(e){return"location_secondary"===e.short_name})),c=!1;if(console.log("init scale set? ",c),console.log("foundPrimary: ",r),console.log("foundSecondary: ",l),null!=r&&null!=l){console.log("hi");var i=l.x_coordinate,s=l.y_coordinate;console.log("x_sec: ",i),console.log("y_sec: ",s),c=0!==i&&0!==s,console.log("scale set inside? ",c)}console.log("scale set outside? ",c),r&&l&&c||e.handleShowModalSetScale(!0),console.log("renderModal: ",!1)}}));var r=localStorage.getItem(this.props.match.params.location_id);console.log("localStorageRef: ",r)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Bt.a,{fluid:"true",className:"main"},o.a.createElement(Ht.a,null,o.a.createElement(Vt.a,{sm:12},o.a.createElement(x,{className:"header"}))),o.a.createElement(Ht.a,null,o.a.createElement(Vt.a,{sm:9},o.a.createElement(Pt,{location_id:this.props.match.params.location_id,className:"graphics",key:"1",objects:this.state.objects,details:this.state.objects[0],location:this.state.location,showModalG:this.state.showModalG,handleShowModalG:this.handleShowModalG,handleShowModalSetScale:this.handleShowModalSetScale,handleNewObject:this.handleNewObject,handleDeleteObject:this.handleDeleteObject,handleUpdateObject:this.handleUpdateObject})),o.a.createElement(Vt.a,{sm:3},o.a.createElement(Ft,{className:"data",key:this.props.match.params.location_id,objects:this.state.objects,location:this.state.location,handleDeleteObject:this.handleDeleteObject,handleUpdateObject:this.handleUpdateObject}))),o.a.createElement(Ht.a,null,o.a.createElement(Vt.a,{sm:12},o.a.createElement(Rt,{className:"footer"})))),o.a.createElement(I.a,{show:this.state.showModalStart,onHide:this.onCloseModalStart},o.a.createElement(I.a.Header,{closeButton:!0},o.a.createElement(I.a.Title,null,"Location Setup")),o.a.createElement(I.a.Body,null,o.a.createElement("ul",null,o.a.createElement("h6",null,"To enable a location, please: "),o.a.createElement("li",null,"Drag in a primary object"),o.a.createElement("li",null,"Drag in a secondary object"),o.a.createElement("li",null,"Refresh the page to begin"))),o.a.createElement(I.a.Footer,null,o.a.createElement(U.a,{variant:"secondary",onClick:this.onCloseModalStart},"Close"))),o.a.createElement(I.a,{show:this.state.showModalSetScale,onHide:this.onClose},o.a.createElement(I.a.Header,{closeButton:!0},o.a.createElement(I.a.Title,null,"Set Latitudes and Longitudes")),o.a.createElement(I.a.Body,null,o.a.createElement("label",{htmlFor:"location_id"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Location ID")),o.a.createElement(L.a,{"aria-label":"location_id","aria-describedby":"basic-addon1",name:"location_id",defaultValue:this.props.match.params.location_id,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"latitude_pri"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Primary Latitude(decimal)")),o.a.createElement(L.a,{placeholder:"enter latitude","aria-label":"latitude_pri","aria-describedby":"basic-addon1",name:"latitude_pri",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"longitude_pri"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Primary Longitude(decimal)")),o.a.createElement(L.a,{placeholder:"enter longitude","aria-label":"longitude_pri","aria-describedby":"basic-addon1",name:"longitude_pri",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"latitude_sec"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Secondary Latitude(decimal)")),o.a.createElement(L.a,{placeholder:"enter latitude","aria-label":"latitude_sec","aria-describedby":"basic-addon1",name:"latitude_sec",onChange:this.onChangeSec}))),o.a.createElement("label",{htmlFor:"longitude_sec"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Secondary Longitude(decimal)")),o.a.createElement(L.a,{placeholder:"enter longitude","aria-label":"longitude_sec","aria-describedby":"basic-addon1",name:"longitude_sec",onChange:this.onChangeSec}))),o.a.createElement("hr",null)),o.a.createElement(I.a.Footer,null,o.a.createElement(U.a,{onClick:this.onClose},"Close"),o.a.createElement(U.a,{onClick:this.onSetScale},"Enter"))))}}]),t}(n.Component),Xt=(a(276),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={image:null},a.handleLoad=function(){a.setState({image:a.image,image_width:a.image.width,image_height:a.image.height}),console.log("width2..."+a.image.width),console.log("height2..."+a.image.height)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadImage()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&this.loadImage()}},{key:"componentWillUnmount",value:function(){this.image.removeEventListener("load",this.handleLoad)}},{key:"loadImage",value:function(){this.image=new window.Image,this.image.src=this.props.src,this.image.addEventListener("load",this.handleLoad)}},{key:"render",value:function(){return o.a.createElement(F.Image,{x:this.props.x,y:this.props.y,image:this.state.image,ref:function(e){return e&&console.log("width..."+e.offsetWidth)}})}}]),t}(o.a.Component)),qt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={location:[],objects:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=v.api.headers,a=v.api.invokeUrl+"/location/"+this.props.match.params.location_id;fetch(a,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setState({location:t.body.data}),console.log("location... ",t.body.data)}));var n=v.api.invokeUrl+"/objects/location/"+this.props.match.params.location_id;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setState({objects:t.body.data}),console.log("objects... ",t.body.data)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(F.Stage,{width:window.innerWidth,height:window.innerHeight},o.a.createElement(F.Layer,null,this.state.location.map((function(e){return o.a.createElement(Xt,{src:e.canvas_image})})),this.state.objects.map((function(t){return o.a.createElement(F.Star,{key:t,x:t.image_x,y:window.innerHeight-t.image_y,numPoints:5,innerRadius:5,outerRadius:10,fill:"#89b717",opacity:.8,draggable:!0,rotation:180*Math.random(),shadowColor:"black",shadowBlur:10,shadowOpacity:.6,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd})}))))}}]),t}(o.a.Component),Wt=(a(277),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"logo-area"},o.a.createElement("h2",null,"iNavig8"),o.a.createElement("img",{src:"./img/iNavig8_Logo.png",alt:"iNavig8 Logo",title:"iNavig8 Logo"}))}}]),t}(o.a.Component)),Zt=(a(278),a(279),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModal:!1},a.onClose=function(){a.setState({showModal:!1})},a.onOpen=function(){a.setState({showModal:!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.profile,t=e.username,a=e.email,n=e.first_name,r=e.last_name,l=e.role,c=new Date,i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()]+" "+c.getDate()+", "+c.getFullYear();return o.a.createElement("header",null,o.a.createElement("div",{className:"header-upper"},o.a.createElement("div",{className:"username-area",onClick:this.onOpen},o.a.createElement("h6",null,a),o.a.createElement("img",{src:"./img/icons/dropdown-icon.png",alt:"Profile",title:"Profile"})),o.a.createElement(I.a,{show:this.state.showModal,onHide:this.onClose},o.a.createElement(I.a.Header,{closeButton:!0},o.a.createElement(I.a.Title,null,"Admin User: ",t)),o.a.createElement(I.a.Body,null,o.a.createElement("label",{htmlFor:"first_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"First Name")),o.a.createElement(L.a,{"aria-label":"first_name","aria-describedby":"basic-addon1",name:"first_name",defaultValue:n,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"last_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Last Name")),o.a.createElement(L.a,{"aria-label":"last_name","aria-describedby":"basic-addon1",name:"last_name",defaultValue:r,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"email"},o.a.createElement(N.a,{className:"mb-3 wl-100"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Email")),o.a.createElement(L.a,{"aria-label":"email","aria-describedby":"basic-addon1",name:"email",defaultValue:a,onChange:this.onChange,bsPrefix:"input-field-size"}))),o.a.createElement("label",{htmlFor:"role"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Role")),o.a.createElement(L.a,{"aria-label":"role","aria-describedby":"basic-addon1",name:"role",defaultValue:l,onChange:this.onChange})))),o.a.createElement(I.a.Footer,null,o.a.createElement(U.a,{onClick:this.onClose},"Close")))),o.a.createElement("div",{className:"header-lower"},o.a.createElement("input",{type:"button",className:"button-date",value:i,readOnly:"readonly"})))}}]),t}(o.a.Component)),$t=(a(280),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).navButtonRef=o.a.createRef(),a.onLocations=function(e){e.preventDefault();a.props.onNavSelection("Locations")},a.onUsers=function(e){e.preventDefault();a.props.onNavSelection("Users")},a.onOptions=function(e){e.preventDefault();a.props.onNavSelection("Options")},a.onDashboard=function(e){e.preventDefault();a.props.onNavSelection("Dashboard")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",null,o.a.createElement("a",{href:"/#",onClick:this.onDashboard},o.a.createElement("div",{id:"highlight-dashboard",className:"nav-area ".concat("Dashboard"===this.props.highlight?"highlight":"no-highlight")},o.a.createElement("img",{src:"./img/icons/dashboard-icon.png",alt:"Dashboard",title:"Dashboard"}),o.a.createElement("h6",null,"Dashboard"),o.a.createElement("input",{type:"hidden",name:"nav",value:"Dashboard",ref:this.navButtonRef}))),o.a.createElement("a",{href:"/#",onClick:this.onLocations},o.a.createElement("div",{id:"highlight-locations",className:"nav-area ".concat("Locations"===this.props.highlight?"highlight":"no-highlight")},o.a.createElement("img",{src:"./img/icons/locations-icon.png",alt:"Locations",title:"Locations"}),o.a.createElement("h6",null,"Locations"),o.a.createElement("input",{type:"hidden",name:"nav",value:"Locations",ref:this.navButtonRef}))),o.a.createElement("a",{href:"/#",onClick:this.onUsers},o.a.createElement("div",{id:"highlight-users",className:"nav-area ".concat("Users"===this.props.highlight?"highlight":"no-highlight")},o.a.createElement("img",{src:"./img/icons/users-icon.png",alt:"Users",title:"Users"}),o.a.createElement("h6",null,"Users"),o.a.createElement("input",{type:"hidden",name:"nav",value:"Users",ref:this.navButtonRef}))),o.a.createElement("a",{href:"/#",onClick:this.onOptions},o.a.createElement("div",{id:"highlight-users",className:"nav-area ".concat("Options"===this.props.highlight?"highlight":"no-highlight")},o.a.createElement("img",{src:"./img/icons/gear-icon.png",alt:"Options",title:"Options"}),o.a.createElement("h6",null,"Options"),o.a.createElement("input",{type:"hidden",name:"nav",value:"Options",ref:this.navButtonRef}))))}}]),t}(o.a.Component)),Kt=(a(281),a(282),a(283),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.details,t=e.location_id,a=e.long_name,n=e.canvas_image,r=null;return r="undefined"!==typeof n&&""!==n&&null!==n?o.a.createElement("img",{src:n,alt:a,title:a}):o.a.createElement("p",null,"No image to preview"),o.a.createElement("section",{className:"location-list"},o.a.createElement("h4",null,o.a.createElement("a",{href:"/design/".concat(t)},a)),o.a.createElement("a",{href:"/design/".concat(t)},r))}}]),t}(o.a.Component)),Qt=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"dashboard-container"},Object.keys(this.props.locations).map((function(t){return o.a.createElement(Kt,{key:t,id:t,details:e.props.locations[t]})})))}}]),t}(o.a.Component),ea=(a(284),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={uploadImage:{location_image_data:{},location_image_name:"",location_id:null},imagePreviewURL:""},a.onImport=function(e){var t=new FileReader,n=e.target.files[0],o=n.name.split("."),r={location_image_name:a.props.details.long_name+"."+o[o.length-1],location_image_data:null,location_id:a.props.details.location_id};console.log("readDataAsUrl: ",r.location_image_data),t.onload=function(e){r.location_image_data=e.target.result,a.setState({uploadImage:r})},t.readAsDataURL(n)},a.onSubmit=function(){a.state.uploadImage?a.props.handleImportImage(a.state.uploadImage):alert("Image Failed To Upload. Try Again.")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(N.a,{className:"mb-3 wl-100"},o.a.createElement("input",{className:"btnImport btnImport-secondary",type:"file",accept:"image/*",onChange:this.onImport}),o.a.createElement(N.a.Append,null,o.a.createElement(T.a,null,o.a.createElement(T.a.Toggle,{variant:"success"},"Upload"),o.a.createElement(T.a.Menu,null,o.a.createElement(T.a.Item,{disabled:!0},"By clicking upload, you will delete all current objects in this location"),o.a.createElement(T.a.Item,{href:"#/action-1"},o.a.createElement(U.a,{variant:"outline-secondary",type:"submit",onClick:this.onSubmit,disabled:!this.state.uploadImage},"upload")))))))}}]),t}(o.a.Component)),ta=a(305);a(285);function aa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var na=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showAddModal:!1,showDeleteModal:!1,showUpdateModal:!1,currentLocation:null,disabled:!1,updateLocationDropdown:null,image:null,uploadImagePreview:null},a.checkForChildren=function(e){},a.onClose=function(){a.setState({showAddModal:!1,showDeleteModal:!1,showUpdateModal:!1,currentLocation:null})},a.onAddOpen=function(){a.setState({showAddModal:!0,showDeleteModal:!1,showUpdateModal:!1,currentLocation:null})},a.onUpdateOpen=function(){a.setState({showAddModal:!1,showDeleteModal:!1,showUpdateModal:!0,currentLocation:{location_id:a.props.details.location_id,short_name:a.props.details.short_name,long_name:a.props.details.long_name,description:a.props.details.description}})},a.onDeleteOpen=function(e){console.log("deleting location..."),a.props.handleDeleteLocation(e)},a.handleImportImage=function(e){a.props.handleImportImage(e)},a.handleImagePreview=function(e){console.log("handleImagePreview: ",a.state.uploadImagePreview),(new FileReader).onloadend=function(){a.setState({uploadImagePreview:e})}},a.onSelect=function(e){console.log("e: ",e),a.setState({updateLocationDropdown:null})},a.onCreate=function(){var e={latitude:0,address_id:a.props.details.address_id,description:a.state.currentLocation.description,min_x_coordinate:0,max_x_coordinate:0,active:!1,long_name:a.state.currentLocation.long_name,location_type_id:a.props.details.location_type_id,scale_ft:1,short_name:a.state.currentLocation.short_name,primary_object_id:1,min_y_coordinate:0,max_y_coordinate:0,longitude:0};a.props.handleCreateLocation(e,a.props.details.location_id),a.onClose()},a.onUpdate=function(e){var t={location_id:a.state.currentLocation.location_id,description:a.state.currentLocation.description,long_name:a.state.currentLocation.long_name,short_name:a.state.currentLocation.short_name};a.props.handleUpdateLocation(t),a.onClose()},a.onChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state.currentLocation,Object(y.a)({},e.currentTarget.name,e.currentTarget.value));a.setState({currentLocation:t})},a.onMouseHover=function(){a.props.handleHover(a.props.id)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.details,a=t.location_id,n=t.long_name,r=t.short_name,l=t.description,c=t.canvas_image;this.checkForChildren(a);var i=null;return i=c?o.a.createElement(ta.a,{src:c,alt:n,title:n,thumbnail:!0}):o.a.createElement("p",null,"No image Uploaded"),o.a.createElement("ul",{className:"ul-location-list"},o.a.createElement("a",{href:"/design/".concat(a)},o.a.createElement("li",{onMouseOver:this.onMouseHover},n)),o.a.createElement("li",null,o.a.createElement(P.a,{variant:"outline-secondary",title:"Action",id:"input-group-dropdown-2"},o.a.createElement(T.a.Item,{onClick:this.onUpdateOpen},"edit this location"),o.a.createElement(T.a.Item,{disabled:this.state.disabled,onClick:function(t){window.confirm("By deleting this location, you will be deleting any objects associated with this location. Are you sure you want to delete this location ("+n+")?")&&e.onDeleteOpen(a)}},"delete this location"),o.a.createElement(T.a.Divider,null),o.a.createElement(T.a.Item,{href:"/design/".concat(a)},"map this location"),o.a.createElement(T.a.Divider,null),o.a.createElement(T.a.Item,{onClick:this.onAddOpen},"add new sub-location"))),o.a.createElement(I.a,{show:this.state.showAddModal,onHide:this.onClose},o.a.createElement(I.a.Header,{closeButton:!0},o.a.createElement(I.a.Title,null,"new location for",o.a.createElement("br",null),o.a.createElement("b",null,n))),o.a.createElement(I.a.Body,null,o.a.createElement("label",{htmlFor:"long_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Long Name")),o.a.createElement(L.a,{placeholder:"enter long name","aria-label":"long_name","aria-describedby":"basic-addon1",name:"long_name",defaultValue:"",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"short_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Short Name")),o.a.createElement(L.a,{placeholder:"enter short name","aria-label":"short_name","aria-describedby":"basic-addon1",name:"short_name",defaultValue:"",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"description"},o.a.createElement(N.a,{className:"mb-3 wl-100"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Description")),o.a.createElement(L.a,{placeholder:"enter description","aria-label":"description","aria-describedby":"basic-addon1",name:"description",defaultValue:"",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"canvas_image"},o.a.createElement(N.a,{className:"mb-3 wl-100"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Import Image")),o.a.createElement(L.a,{placeholder:"feature coming soon!","aria-label":"canvas_image","aria-describedby":"basic-addon1",name:"canvas_image",defaultValue:"",readOnly:"readonly"}),o.a.createElement(N.a.Append,null,o.a.createElement(U.a,{variant:"outline-secondary"},"import")))),o.a.createElement("label",{htmlFor:"location_type_id"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(P.a,{as:N.a.Prepend,variant:"outline-secondary",title:"Location Type",id:"input-group-dropdown-1"},o.a.createElement(T.a.Item,null,"Building"),o.a.createElement(T.a.Item,null,"Room"),o.a.createElement(T.a.Item,null,"Hallway"))))),o.a.createElement(I.a.Footer,null,o.a.createElement(U.a,{onClick:this.onClose},"Close"),o.a.createElement(U.a,{onClick:this.onCreate},"Create"))),o.a.createElement(I.a,{show:this.state.showUpdateModal,onHide:this.onClose},o.a.createElement(I.a.Header,{closeButton:!0},o.a.createElement(I.a.Title,null,"Update Location")),o.a.createElement(I.a.Body,null,o.a.createElement("label",{htmlFor:"long_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Long Name")),o.a.createElement(L.a,{placeholder:"enter long name","aria-label":"long_name","aria-describedby":"basic-addon1",name:"long_name",defaultValue:n,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"short_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Short Name")),o.a.createElement(L.a,{placeholder:"enter short name","aria-label":"short_name","aria-describedby":"basic-addon1",name:"short_name",defaultValue:r,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"description"},o.a.createElement(N.a,{className:"mb-3 wl-100"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Description")),o.a.createElement(L.a,{placeholder:"enter description","aria-label":"description","aria-describedby":"basic-addon1",name:"description",defaultValue:l,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"location_type_id"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(P.a,{as:N.a.Prepend,variant:"outline-secondary",title:"Location Type",id:"input-group-dropdown-1"},o.a.createElement(T.a.Item,null,"Building"),o.a.createElement(T.a.Item,null,"Room"),o.a.createElement(T.a.Item,null,"Hallway")),o.a.createElement(L.a,{"aria-describedby":"basic-addon1",defaultValue:"test"}))),o.a.createElement("label",{htmlFor:"canvas_image"},o.a.createElement(ea,{details:this.props.details,onImport:this.onImport,handleImportImage:this.handleImportImage,handleImagePreview:this.handleImagePreview})),o.a.createElement("div",{className:"imagePreview"},i)),o.a.createElement(I.a.Footer,null,o.a.createElement(U.a,{onClick:this.onClose},"Close"),o.a.createElement(U.a,{onClick:this.onUpdate},"Update"))))}}]),t}(o.a.Component),oa=(a(286),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModal:!1,isHover:!1,showImage:!1,showDetails:!1,index:-1},a.onClose=function(){a.setState({showModal:!1})},a.onOpen=function(){a.setState({showModal:!0})},a.handleHover=function(e){a.setState({isHover:!0,showImage:!0,showDetails:!0,index:e})},a.handleCreateLocation=function(e,t){a.setState({showModal:!1,isHover:!1,showImage:!1,showDetails:!1,index:-1}),a.props.handleCreateLocation(e,t)},a.handleUpdateLocation=function(e){a.setState({showModal:!1,isHover:!1,showImage:!1,showDetails:!1,index:-1}),a.props.handleUpdateLocation(e)},a.handleDeleteLocation=function(e){a.props.handleDeleteLocation(e)},a.handleImportImage=function(e){a.props.handleImportImage(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=null;return t=this.state.index>-1&&"undefined"!==typeof this.props.locations[this.state.index]&&""!==this.props.locations[this.state.index].canvas_image&&null!==this.props.locations[this.state.index].canvas_image?o.a.createElement("img",{src:this.props.locations[this.state.index].canvas_image,alt:this.props.locations[this.state.index].long_name,title:this.props.locations[this.state.index].long_name}):o.a.createElement("p",null,"No image to preview"),o.a.createElement("main",{className:"locations-container"},o.a.createElement("section",{className:"location-list"},o.a.createElement("h4",null,"Locations"),o.a.createElement("div",null,Object.keys(this.props.locations).map((function(t){return o.a.createElement(na,{key:t,id:t,details:e.props.locations[t],hover:e.state.isHover,handleHover:e.handleHover,handleCreateLocation:e.handleCreateLocation,handleUpdateLocation:e.handleUpdateLocation,handleDeleteLocation:e.handleDeleteLocation,handleImportImage:e.handleImportImage})})))),o.a.createElement("section",{className:"location-view"},o.a.createElement("h4",null,"Locations View"),this.state.showImage&&t),o.a.createElement("section",{className:"location-details"},o.a.createElement("h4",null,"Locations Details"),o.a.createElement("ul",{className:"location-detail"},o.a.createElement("li",null,"Name:"),this.state.showImage&&o.a.createElement("li",null,this.props.locations[this.state.index].long_name)),o.a.createElement("ul",{className:"location-detail"},o.a.createElement("li",null,"Nickname:"),this.state.showImage&&o.a.createElement("li",null,this.props.locations[this.state.index].short_name)),o.a.createElement("ul",{className:"location-detail"},o.a.createElement("li",null,"Description:"),this.state.showImage&&o.a.createElement("li",null,this.props.locations[this.state.index].description))))}}]),t}(o.a.Component)),ra=(a(287),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showAddModal:!1,showDeleteModal:!1,showUpdateModal:!1},a.onUpdateOpen=function(e){console.log("Updating user's information...")},a.onDeleteOpen=function(e){console.log("Removing Admin Privileges for user id: ",e)},a.onMouseHover=function(){a.props.handleHover(a.props.id)},a.onClose=function(){a.setState({showAddModal:!1,showDeleteModal:!1,showUpdateModal:!1})},a.onAddOpen=function(){a.setState({showAddModal:!0,showUpdateModal:!1,showDeleteModal:!1})},a.onUpdateOpen=function(){a.setState({showAddModal:!1,showUpdateModal:!0,showDeleteModal:!1})},a.onDeleteOpen=function(){a.setState({showAddModal:!1,showUpdateModal:!1,showDeleteModal:!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.subUser,a=t.user_id,n=t.first_name,r=t.last_name,l=t.username,c=t.email;return o.a.createElement("ul",{className:"users-list"},o.a.createElement("a",{href:"#/"},o.a.createElement("li",{onMouseOver:this.onMouseHover},n," ",r)),o.a.createElement("li",null,o.a.createElement(P.a,{variant:"outline-secondary",title:"Action",id:"input-group-dropdown-2"},o.a.createElement(T.a.Item,{onClick:this.onUpdateOpen},"edit this user"),o.a.createElement(T.a.Divider,null),o.a.createElement(T.a.Item,{disabled:"true",onClick:function(t){window.confirm("Are you sure that you want to remove admin privileges for '"+n+" "+r+"'?")&&e.onRemoveOpen(a)}},"remove admin privileges"))),o.a.createElement(I.a,{show:this.state.showUpdateModal,onHide:this.onClose},o.a.createElement(I.a.Header,{closeButton:!0},o.a.createElement(I.a.Title,null,o.a.createElement("b",null,l))),o.a.createElement(I.a.Body,null,o.a.createElement("label",{htmlFor:"first_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"First Name")),o.a.createElement(L.a,{placeholder:"enter first name","aria-label":"first_name","aria-describedby":"basic-addon1",name:"first_name",defaultValue:n,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"last_name"},o.a.createElement(N.a,{className:"mb-3"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Last Name")),o.a.createElement(L.a,{placeholder:"enter last name","aria-label":"last_name","aria-describedby":"basic-addon1",name:"last_name",defaultValue:r,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"email"},o.a.createElement(N.a,{className:"mb-3 wl-100"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Email")),o.a.createElement(L.a,{placeholder:"enter email","aria-label":"email","aria-describedby":"basic-addon1",name:"email",defaultValue:c,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"username"},o.a.createElement(N.a,{className:"mb-3 wl-100"},o.a.createElement(N.a.Prepend,null,o.a.createElement(N.a.Text,{id:"basic-addon1"},"Username")),o.a.createElement(L.a,{placeholder:"enter username","aria-label":"username","aria-describedby":"basic-addon1",name:"username",defaultValue:l,onChange:this.onChange})))),o.a.createElement(I.a.Footer,null,o.a.createElement(U.a,{onClick:this.onClose},"Close"),o.a.createElement(U.a,{onClick:this.onUpdate,disabled:!0},"Update"))))}}]),t}(o.a.Component)),la=(a(288),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isHover:!1,showUser:!1,showDetails:!1,index:-1},a.handleHover=function(e){a.setState({isHover:!0,showUser:!0,showDetails:!0,index:e})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"users-container"},o.a.createElement("section",{className:"users-list-area"},o.a.createElement("h4",null,"Users List"),o.a.createElement("div",null,Object.keys(this.props.subUsers).map((function(t){return o.a.createElement(ra,{key:t,id:t,subUser:e.props.subUsers[t],hover:e.state.isHover,handleHover:e.handleHover,handleCreateUser:e.handleCreateUser,handleUpdateUser:e.handleUpdateUser,handleDeleteUser:e.handleDeleteUser})})))),o.a.createElement("section",{className:"user-details"},o.a.createElement("h4",null,"User Details"),o.a.createElement("ul",{className:"user-detail"},o.a.createElement("li",null,"First Name:"),this.state.showUser&&o.a.createElement("li",null,this.props.subUsers[this.state.index].first_name)),o.a.createElement("ul",{className:"user-detail"},o.a.createElement("li",null,"Last Name:"),this.state.showUser&&o.a.createElement("li",null,this.props.subUsers[this.state.index].last_name)),o.a.createElement("ul",{className:"user-detail"},o.a.createElement("li",null,"Email:"),this.state.showUser&&o.a.createElement("li",null,this.props.subUsers[this.state.index].email)),o.a.createElement("ul",{className:"user-detail"},o.a.createElement("li",null,"Username:"),this.state.showUser&&o.a.createElement("li",null,this.props.subUsers[this.state.index].username))))}}]),t}(o.a.Component)),ca=(a(289),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onExport=function(){a.getLocation(),a.getObject()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getLocation",value:function(){var e=v.api.headers;fetch(v.api.invokeUrl+"/locations",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){for(var t={contents:[]},n=e.body.data,o=0;o<n.length;o++)t.contents.push({address:n[o].address,address_id:n[o].address_id,description:n[o].description,active:n[o].active,location_id:n[o].location_id,long_name:n[o].long_name,location_type:n[o].location_type,location_type_id:n[o].location_type_id,short_name:n[o].short_name,canvas_image:n[o].canvas_image});console.log("location contents: ",t.contents);var r=JSON.stringify(t);new File([r],"JSONLocations.json",{type:"text/plain"});a(67).json2csv(t,(function(e,t){if(e)throw e}))}))}},{key:"getObject",value:function(){var e=v.api.headers;fetch(v.api.invokeUrl+"/object-types",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){for(var t={contents:[]},n=e.body.data,o=0;o<n.length;o++)t.contents.push({image:n[o].image,description:n[o].description,short_name:n[o].short_name,object_type_id:n[o].object_type_id,long_name:n[o].long_name});console.log("object contents: ",t.contents);var r=JSON.stringify(t);new File([r],"JSONObjects.json",{type:"text/plain"});a(67).json2csv(t,(function(e,t){if(e)throw e}))}))}},{key:"render",value:function(){return o.a.createElement("main",{className:"options-container"},o.a.createElement("section",{className:"load-area"},o.a.createElement("h4",null,"Upload"),o.a.createElement("p",null,"Load in objects to a location without the hassle!"),o.a.createElement("p",null,"What format does my file need to be?"),o.a.createElement("ul",null,o.a.createElement("li",null,"JSON (Java-Script Object Notation) or"),o.a.createElement("li",null,"CSV (command delimited)")),o.a.createElement("div",{className:"btn-area"},o.a.createElement(U.a,{variant:"outline-primary",size:"lg",href:"#/",block:!0},"Upload"))),o.a.createElement("section",{className:"backup-area"},o.a.createElement("h4",null,"Backup"),o.a.createElement("p",null,"What will be included in my backup?"),o.a.createElement("ul",null,o.a.createElement("li",null,"Locations"),o.a.createElement("li",null,"Objects associated with the locations")),o.a.createElement("p",null,"What format will my backup be in?"),o.a.createElement("ul",null,o.a.createElement("li",null,"JSON (Java-Script Object Notation) or"),o.a.createElement("li",null,"CSV (command delimited)")),o.a.createElement("div",{className:"btn-area"},o.a.createElement(U.a,{onClick:this.onExport,variant:"outline-primary",size:"lg",href:"#/",block:!0},"Export"))),o.a.createElement("section",{className:"recovery-area"},o.a.createElement("h4",null,"Recovery"),o.a.createElement("p",null,"Revert location and associated objects"),o.a.createElement("p",null,"What format does my file need to be?"),o.a.createElement("ul",null,o.a.createElement("li",null,"JSON (Java-Script Object Notation) or"),o.a.createElement("li",null,"CSV (command delimited)")),o.a.createElement("div",{className:"btn-area"},o.a.createElement(U.a,{variant:"outline-primary",size:"lg",href:"#/",block:!0},"Import"))))}}]),t}(o.a.Component)),ia=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleCreateLocation=function(e,t){a.props.handleCreateLocation(e,t)},a.handleUpdateLocation=function(e){a.props.handleUpdateLocation(e)},a.handleDeleteLocation=function(e){a.props.handleDeleteLocation(e)},a.handleImportImage=function(e){a.props.handleImportImage(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return"Locations"===this.props.page?o.a.createElement(oa,{locations:this.props.locations,handleCreateLocation:this.handleCreateLocation,handleUpdateLocation:this.handleUpdateLocation,handleDeleteLocation:this.handleDeleteLocation,handleImportImage:this.handleImportImage}):"Users"===this.props.page?o.a.createElement(la,{subUsers:this.props.subUsers}):"Options"===this.props.page?o.a.createElement(ca,null):o.a.createElement(Qt,{locations:this.props.locations})}}]),t}(o.a.Component),sa=(a(293),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"logout",value:function(){localStorage.clear(),window.location.reload()}},{key:"render",value:function(){return o.a.createElement("footer",{onClick:this.logout},o.a.createElement("img",{src:"./img/icons/logout-icon.png",alt:"Logout",title:"Logout"}),o.a.createElement("h6",null,"Logout"))}}]),t}(o.a.Component));a(294);function da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ua(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?da(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ma=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={admin:JSON.parse(localStorage.getItem("admin"))||[],nav:"Dashboard",locations:{},uploadImage:{},subUsers:{}},a.getSubUsers=function(e,t){fetch(v.api.invokeUrl+"/user/sub/"+t,{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){a.setState({subUsers:e.body.data})}))},a.onLogin=function(e){a.setState({admin:{username:e.username,password:e.password,email:e.attributes.email,first_name:2===e.attributes.name.split(" ").length?e.attributes.name.split(" ")[0]:"",last_name:2===e.attributes.name.split(" ").length?e.attributes.name.split(" ")[1]:"",role:"Admin"}},(function(){localStorage.setItem("admin",JSON.stringify(a.state.admin));var e=localStorage.getItem("CognitoIdentityServiceProvider.7qismhftk1ehili7a4qp9cc5el.LastAuthUser");v.api.headers.Authorization=localStorage.getItem("CognitoIdentityServiceProvider.7qismhftk1ehili7a4qp9cc5el."+e+".idToken")}))},a.onNavSelection=function(e){a.setState({nav:e})},a.handleCreateLocation=function(e,t){console.log("handleCreateLocation: ",e);var n=v.api.invokeUrl+"/location/new",o=v.api.headers,r=JSON.stringify(e);fetch(n,{method:"POST",headers:o,body:r}).then((function(e){if(e.ok)return console.log("response is ok"),e.json();throw Error("Request rejected with status ".concat(e.status))})).then((function(e){console.log("App.js -> result: ",e),a.setState({locations:[].concat(Object(w.a)(a.state.locations),[ua({},e.body.data[0])])})}))},a.handleUpdateLocation=function(e){var t=v.api.headers,n=JSON.stringify(e),o=v.api.invokeUrl+"/location/update";fetch(o,{method:"POST",headers:t,body:n}).then((function(e){if(e.ok)return e.json();throw Error("Request rejected with status ".concat(e.status))})).catch(console.error),a.setState((function(t){return a.state.locations.map((function(t){return t.location_id===e.location_id?(t.short_name=e.short_name,t.long_name=e.long_name,t.description=e.description,t):t}))}))},a.handleDeleteLocation=function(e){console.log("App.js's handleDeleteLocation: deleting location ",e);var t=v.api.headers,n=v.api.invokeUrl+"/location/delete/"+e;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){var n=a.state.locations.filter((function(t){return t.location_id!==e}));a.setState({locations:n})}))},a.handleImportImage=function(e){console.log("App.js's handleImportImage (uploadImage): ",e);var t=v.api.headers;fetch(v.api.invokeUrl+"/location/image",{method:"POST",headers:t,body:e}).then((function(e){return e.json()})).then((function(e){console.log("upload succesful! result: ",e)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("CognitoIdentityServiceProvider.7qismhftk1ehili7a4qp9cc5el.LastAuthUser");v.api.headers.Authorization=localStorage.getItem("CognitoIdentityServiceProvider.7qismhftk1ehili7a4qp9cc5el."+t+".idToken");var a=v.api.headers;fetch(v.api.invokeUrl+"/locations",{method:"GET",headers:a}).then((function(e){return e.json()})).then((function(t){e.setState({locations:t.body.data})})),this.getSubUsers(a,10)}},{key:"render",value:function(){return h.a.currentSession().then((function(e){})).catch((function(e){return console.log(e)})),this.state.admin&&0!==this.state.admin.length?o.a.createElement("div",{className:"container-loggIn"},o.a.createElement(Wt,null),o.a.createElement(Zt,{profile:this.state.admin}),o.a.createElement($t,{onNavSelection:this.onNavSelection,highlight:this.state.nav}),o.a.createElement(ia,{page:this.state.nav,locations:this.state.locations,subUsers:this.state.subUsers,handleCreateLocation:this.handleCreateLocation,handleUpdateLocation:this.handleUpdateLocation,handleDeleteLocation:this.handleDeleteLocation,handleImportImage:this.handleImportImage}),o.a.createElement(sa,null)):o.a.createElement(p,{onLogin:this.onLogin})}}]),t}(o.a.Component),ha=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onExport=function(){a.getLocation(),a.getObject()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getLocation",value:function(){var e=v.api.headers;fetch(v.api.invokeUrl+"/locations",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){for(var t={contents:[]},n=e.body.data,o=0;o<n.length;o++)t.contents.push({address:n[o].address,address_id:n[o].address_id,description:n[o].description,active:n[o].active,location_id:n[o].location_id,long_name:n[o].long_name,location_type:n[o].location_type,location_type_id:n[o].location_type_id,short_name:n[o].short_name,canvas_image:n[o].canvas_image});var r=JSON.stringify(t);new File([r],"JSONLocations.json",{type:"text/plain"});a(67).json2csv(t,(function(e,t){if(e)throw e}))}))}},{key:"getObject",value:function(){var e=v.api.headers;fetch(v.api.invokeUrl+"/object-types",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){for(var t={contents:[]},n=e.body.data,o=0;o<n.length;o++)t.contents.push({image:n[o].image,description:n[o].description,short_name:n[o].short_name,object_type_id:n[o].object_type_id,long_name:n[o].long_name});var r=JSON.stringify(t);new File([r],"JSONObjects.json",{type:"text/plain"});a(67).json2csv(t,(function(e,t){if(e)throw e}))}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(U.a,{onClick:this.onExport}," Export "))}}]),t}(o.a.Component),ga=function(){return o.a.createElement(l.a,null,o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/",component:ma}),o.a.createElement(c.a,{path:"/forgot",component:b}),o.a.createElement(c.a,{path:"/reset",component:E}),o.a.createElement(c.a,{path:"/register",component:S}),o.a.createElement(c.a,{path:"/design/:location_id",component:Yt}),o.a.createElement(c.a,{path:"/design",component:Yt}),o.a.createElement(c.a,{path:"/location-objects/:location_id",component:qt}),o.a.createElement(c.a,{path:"/export",component:ha}),o.a.createElement(c.a,{path:"/confirm",component:C}),o.a.createElement(c.a,{component:p})))};a(297),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(r.render)(o.a.createElement(ga,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t){}},[[138,1,2]]]);
//# sourceMappingURL=main.1004a765.chunk.js.map